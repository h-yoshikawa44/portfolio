---
id: web-api
title: Web - Web API
sidebar_label: Web API
description: WebのSOAPの標準化からRESTとの論争、RESTの普及までのまとめ
keywords:
  - Web
  - 歴史
---

## Web API をめぐる議論
初期の Web は学術論文の交換に利用されていたため、主な用途としては人が文書を閲覧するためのシステムであったが、Web の用途が多様化したことで、プログラムから自動処理を行いたいという要求が出始めた。  
そこから、Web がトレンドになった1990年代後半から2000年代前半にかけて、プログラムから操作可能な Web API の議論が起こった。

### SOAP の標準化と WS-* の標準化競争
#### SOAP
Fielding 氏ら HTTP 1.1 を策定するグループとは別のグループも、Web をプログラムから利用できるように拡張しようと試みていた。  
その中で強い勢力を持っていたのが、RPC / 分散オブジェクトのグループで、過去にも CORBA や DCOM などの分散オブジェクトで自社技術をデファクトにしようと標準化に動いていた経歴を持つ。同じ方法論で Web 上の分散オブジェクトを実現しようとしていた。

RPC / 分散オブジェクトグループの中で、最も基本的なプロトコルは`SOAP`。  
SOAP は HTTP をアプリケーションプロトコルではなくトランスポートプロトコルとして扱い、HTTP の上で独自のメッセージを転送するのが特徴。
SOAP は Microsoft が W3C に提案し、IBM やその他のベンダーを巻き込み標準化が始まった。

#### WS-*
SOAP はメッセージ転送方法だけを定めた仕様であるため、実際にシステムを構築する際に SOAP の上にサービスごとのプロトコルを定義しなければならない。  
それらを各社それぞれのやり方で定義するのでは複雑化し、かつての分散システムの失敗を繰り返すことになってしまう。  
そこから WS-Security、WS-Transaction、WS-ReliableMessaging などといった、<ruby><rb>`WS-*`</rb><rt>ダブリュエススター</rt></ruby> と呼ばれる周辺仕様群が W3C や <ruby><rb>OASIS</rb><rt>オアシス</rt></ruby> に提案された。

しかし、同じような仕様が複数乱立。各社は自社の仕様を標準化しようと動いたため、またもや以前のような標準化競争に発展してしまった。  
また、 WS-* の仕様書群のページ数が膨大だったため、実装が困難という批判も起こった。

### SOAP 対 REST
当時の W3C ではプログラムから利用可能な Web のアーキテクチャについての議論が活発に行われていた。  
この論争には Fielding 氏も積極的に関わり、自身が作った REST の理論をもとに、大手ベンダーの推進する SOAP ベースの技術を否定。Web が Web らしくあるためのアーキテクチャスタイルとして REST を推進。

ただ、一人の研究者と大手ベンダーとでは政治的な力の差が大きく、Fielding 氏が SOAP の間違いを指摘しても SOAP の仕様策定は W3C で続けられた。  
しかし、そんななか Fielding 氏の意見に賛同する者も現れた。

その代表格として  
分散オブジェクトの技術者である <ruby><rb>Mark</rb><rt>マーク</rt></ruby> <ruby><rb>Baker</rb><rt>ベイカー</rt></ruby>。  
SGML（ Standard Generalized Markup Language ）の流れをくむ XML / 構造化文書技術者である <ruby><rb>Paul</rb><rt>ポール</rt></ruby> <ruby><rb>Prescod</rb><rt>プレスコッド</rt></ruby> 。

異なる技術の技術者である両者が Web を通じて REST を知り、Fielding 氏とともに REST を宣伝した。

### REST の普及
SOAP と REST に関する論争は2000年前後から始まり、2003年頃がピークだった模様。
2000年当時は Google が検索エンジンとして一定の地位を持ち始めた頃。現在のようなプログラムから操作可能な各種 Web API は存在していなかった。

そのなか REST の普及を後押ししたのは Amazon Web サービスで、自社が取り扱う書籍や標品の情報を Web を通じてプログラムから取得できるようにした。  
その際に、SOAP 形式と REST 形式（技術的に正確でないが、便宜的に REST 形式と呼ばれた）の2つの形式を用意。  
Amazon の Web API はその情報の有用性と容易に扱えることから、瞬く間に普及していった。  
そして、SOAP 形式と REST 形式の利用比率が20対80であるという報告から、両者の論争が始まった。

議論は過熱したが、最終的には REST 側が勝利。  
2004年から始まった Web 2.0 の流れの中で、Google や Amazon などの企業が REST 形式で Web API を提供し始めた。

Web 2.0 において重要だったのは Mashup 。
Mashup とは様々な Web API が提供する情報を組み合わせて1つのアプリケーションを実現する手法のことを指す。  
手軽さが求められたため、Web API から提供されるリソースを HTTP や URI で手軽に操作できる REST の方が受け入れられたのであった。
